<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Competition Control • XGAMES</title>
  <link rel="stylesheet" href="../../styles.css" />
</head>
<body>
  <header style="padding:16px;background:#111;color:#fff;">
    <h1>Competition Control</h1>
    <p id="ctx" style="opacity:.8;margin-top:4px;"></p>
  </header>

  <main id="content" style="padding:24px;">
    <p>This is the NEW skeleton control page. Use the existing working pages to run and display.</p>

    <h3>Run (Existing)</h3>
    <ul>
      <li><a class="xg-link" data-base="../../pages/heat_select.html">🔥 Heat Select (existing)</a></li>
      <li><a class="xg-link" data-base="../../pages/run_console.html">▶️ Run Console (existing)</a></li>
    </ul>

    <h3>Displays (Existing)</h3>
    <ul>
      <li><a class="xg-link" data-base="../../display_centre.html" target="_blank" rel="noopener">🎛️ Display Centre</a></li>
      <li><a class="xg-link" data-base="../../scoreboard.html" target="_blank" rel="noopener">📺 Scoreboard</a></li>
      <li><a class="xg-link" data-base="../../leaderboard.html" target="_blank" rel="noopener">🥇 Leaderboard</a></li>
      <li><a class="xg-link" data-base="../../intro.html" target="_blank" rel="noopener">🎬 Intro Screen</a></li>
    </ul>
  </main>

  <footer style="padding:16px;text-align:center;background:#eee;">
    <a href="../master/home.html">⬅️ Back to Master Hub</a>
  </footer>

  <!-- Minimal param passthrough (no shared JS touched) -->
  <script>
    (function () {
      const qs = window.location.search || "";
      const params = new URLSearchParams(qs);
      const cid = params.get("cid") || "(no cid)";
      const eid = params.get("eid") || "-";
      const heat = params.get("heat") || "-";
      const ctxEl = document.getElementById("ctx");
      if (ctxEl) ctxEl.textContent = `cid=${cid} • eid=${eid} • heat=${heat}`;

      document.querySelectorAll('a.xg-link').forEach(a => {
        const base = a.getAttribute('data-base') || a.getAttribute('href');
        a.setAttribute('href', base + qs);
      });
    })();
  </script>
</body>
</html>
