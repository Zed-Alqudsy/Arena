<!doctype html><html><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>New Competition</title>
<link rel="stylesheet" href="../styles.css">
<script src="../shared/core.js"></script><script src="../shared/state.js"></script><script src="../shared/ui.js"></script>
</head><body><div class="wrap">
  <div class="header"><a class="btn" href="../index.html">‚Üê Back</a><h2 style="margin:0">New Competition</h2></div>
  <div class="card">
    <div class="row">
      <div style="flex:1">
        <div class="label">Name</div><input id="name" class="input" placeholder="XGames Kuala Lumpur Open">
      </div>
      <div><div class="label">Date</div><input id="date" class="input" type="date"></div>
      <div style="flex:1"><div class="label">Venue</div><input id="venue" class="input" placeholder="Bukit Jalil"></div>
    </div>
    <hr>
    <button id="create" class="btn primary">Create Competition</button>
  </div>
</div>
<script>
document.getElementById('create').onclick = () => {
  const name = document.getElementById('name').value.trim() || 'Untitled Competition';
  const date = document.getElementById('date').value || new Date().toISOString().slice(0,10);
  const venue = document.getElementById('venue').value.trim() || 'TBD';
  const cid = Core.uid('CID');
  const comps = State.arr(State.keys.comps);
  comps.push({ cid, name, date, venue, status:'Active' });
  State.setJSON(State.keys.comps, comps);
  UI.toast('Competition created');
  location.href = Core.buildUrl('competition_home.html', { cid });
};
</script>
</body></html>
